{"parents": [], "prev": null, "next": null, "title": "cartoframes.credentials module", "meta": {}, "body": "<div class=\"section\" id=\"module-cartoframes.credentials\">\n<span id=\"cartoframes-credentials-module\"></span><h1>cartoframes.credentials module<a class=\"headerlink\" href=\"#module-cartoframes.credentials\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>Credentials management for cartoframes usage.</p>\n<dl class=\"class\">\n<dt id=\"cartoframes.credentials.Credentials\">\n<em class=\"property\">class </em><code class=\"descclassname\">cartoframes.credentials.</code><code class=\"descname\">Credentials</code><span class=\"sig-paren\">(</span><em>creds=None</em>, <em>key=None</em>, <em>username=None</em>, <em>base_url=None</em>, <em>cred_file=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.credentials.Credentials\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></p>\n<p>Credentials class for managing and storing user CARTO credentials. The\narguments are listed in order of precedence: <a class=\"reference internal\" href=\"#cartoframes.credentials.Credentials\" title=\"cartoframes.credentials.Credentials\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Credentials</span></code></a> instances\nare first, <cite>key</cite> and <cite>base_url</cite>/<cite>username</cite> are taken next, and\n<cite>config_file</cite> (if given) is taken last. If no arguments are passed, then\nthere will be an attempt to retrieve credentials from a previously saved\nsession. One of the above scenarios needs to be met to successfully\ninstantiate a <a class=\"reference internal\" href=\"#cartoframes.credentials.Credentials\" title=\"cartoframes.credentials.Credentials\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Credentials</span></code></a> object.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><ul class=\"first simple\">\n<li><strong>creds</strong> (<code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">cartoframes.Credentials</span></code>, optional) \u2013 Credentials instance</li>\n<li><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 API key of user\u2019s CARTO account</li>\n<li><strong>username</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Username of CARTO account</li>\n<li><strong>base_url</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Base URL used for API calls. This is usually\nof the form <cite>https://eschbacher.carto.com/</cite> for user <cite>eschbacher</cite>.\nOn premises installations (and others) have a different URL\npattern.</li>\n<li><strong>cred_file</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Pull credentials from a stored file. If this\nand all other args are not entered, Credentials will attempt to\nload a user config credentials file that was previously set with\nCredentials(\u2026).save().</li>\n</ul>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Raises:</th><td class=\"field-body\"><p class=\"first last\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RuntimeError</span></code> \u2013 If not enough credential information is passed and no\nstored credentials file is found, this error will be raised.</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Example</p>\n<div class=\"code highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">cartoframes</span> <span class=\"k\">import</span> <span class=\"n\">Credentials</span><span class=\"p\">,</span> <span class=\"n\">CartoContext</span>\n<span class=\"n\">creds</span> <span class=\"o\">=</span> <span class=\"n\">Credentials</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"o\">=</span><span class=\"s1\">&#39;abcdefg&#39;</span><span class=\"p\">,</span> <span class=\"n\">username</span><span class=\"o\">=</span><span class=\"s1\">&#39;eschbacher&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">cc</span> <span class=\"o\">=</span> <span class=\"n\">CartoContext</span><span class=\"p\">(</span><span class=\"n\">creds</span><span class=\"o\">=</span><span class=\"n\">creds</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<dl class=\"method\">\n<dt id=\"cartoframes.credentials.Credentials.base_url\">\n<code class=\"descname\">base_url</code><span class=\"sig-paren\">(</span><em>base_url=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.credentials.Credentials.base_url\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return or set <cite>base_url</cite>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><strong>base_url</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 If set, updates the <cite>base_url</cite>. Otherwise\nreturns current <cite>base_url</cite>.</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">This does not update the <cite>username</cite> attribute. Separately update\nthe username with <code class=\"docutils literal notranslate\"><span class=\"pre\">Credentials.username</span></code> or update <cite>base_url</cite> and\n<cite>username</cite> at the same time with <code class=\"docutils literal notranslate\"><span class=\"pre\">Credentials.set</span></code>.</p>\n</div>\n<p class=\"rubric\">Example</p>\n<div class=\"code highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">cartoframes</span> <span class=\"k\">import</span> <span class=\"n\">Credentials</span>\n<span class=\"go\"># load credentials saved in previous session</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">creds</span> <span class=\"o\">=</span> <span class=\"n\">Credentials</span><span class=\"p\">()</span>\n<span class=\"go\"># returns current base_url</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">creds</span><span class=\"o\">.</span><span class=\"n\">base_url</span><span class=\"p\">()</span>\n<span class=\"go\">&#39;https://eschbacher.carto.com/&#39;</span>\n<span class=\"go\"># updates base_url with new value</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">creds</span><span class=\"o\">.</span><span class=\"n\">base_url</span><span class=\"p\">(</span><span class=\"s1\">&#39;new_base_url&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"cartoframes.credentials.Credentials.delete\">\n<code class=\"descname\">delete</code><span class=\"sig-paren\">(</span><em>config_file=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.credentials.Credentials.delete\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Deletes the credentials file specified in <cite>config_file</cite>. If no\nfile is specified, it deletes the default user credential file.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><strong>config_file</strong> (<em>str</em>) \u2013 Path to configuration file. Defaults to delete\nthe user default location if <cite>None</cite>.</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition tip\">\n<p class=\"first admonition-title\">Tip</p>\n<p>To see if there is a default user credential file stored, do the\nfollowing:</p>\n<div class=\"last highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">creds</span> <span class=\"o\">=</span> <span class=\"n\">Credentials</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">creds</span><span class=\"p\">)</span>\n<span class=\"go\">Credentials(username=eschbacher, key=abcdefg,</span>\n<span class=\"go\">        base_url=https://eschbacher.carto.com/)</span>\n</pre></div>\n</div>\n</div>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"cartoframes.credentials.Credentials.key\">\n<code class=\"descname\">key</code><span class=\"sig-paren\">(</span><em>key=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.credentials.Credentials.key\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return or set API <cite>key</cite>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 If set, updates the API key, otherwise returns\ncurrent API key.</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Example</p>\n<div class=\"code highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">cartoframes</span> <span class=\"k\">import</span> <span class=\"n\">Credentials</span>\n<span class=\"go\"># load credentials saved in previous session</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">creds</span> <span class=\"o\">=</span> <span class=\"n\">Credentials</span><span class=\"p\">()</span>\n<span class=\"go\"># returns current API key</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">creds</span><span class=\"o\">.</span><span class=\"n\">key</span><span class=\"p\">()</span>\n<span class=\"go\">&#39;abcdefg&#39;</span>\n<span class=\"go\"># updates API key with new value</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">creds</span><span class=\"o\">.</span><span class=\"n\">key</span><span class=\"p\">(</span><span class=\"s1\">&#39;new_api_key&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"cartoframes.credentials.Credentials.save\">\n<code class=\"descname\">save</code><span class=\"sig-paren\">(</span><em>config_loc=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.credentials.Credentials.save\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Saves current user credentials to user directory.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><strong>config_loc</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Location where credentials are to be\nstored. If no argument is provided, it will be send to the\ndefault location.</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Example</p>\n<div class=\"code highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">cartoframes</span> <span class=\"k\">import</span> <span class=\"n\">Credentials</span>\n<span class=\"n\">creds</span> <span class=\"o\">=</span> <span class=\"n\">Credentials</span><span class=\"p\">(</span><span class=\"n\">username</span><span class=\"o\">=</span><span class=\"s1\">&#39;eschbacher&#39;</span><span class=\"p\">,</span> <span class=\"n\">key</span><span class=\"o\">=</span><span class=\"s1\">&#39;abcdefg&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">creds</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>  <span class=\"c1\"># save to default location</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"cartoframes.credentials.Credentials.set\">\n<code class=\"descname\">set</code><span class=\"sig-paren\">(</span><em>key=None</em>, <em>username=None</em>, <em>base_url=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.credentials.Credentials.set\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Update the credentials of a Credentials instance instead with new\nvalues.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><ul class=\"first last simple\">\n<li><strong>key</strong> (<em>str</em>) \u2013 API key of user account. Defaults to previous value if\nnot specified.</li>\n<li><strong>username</strong> (<em>str</em>) \u2013 User name of account. This parameter is optional if\n<cite>base_url</cite> is not specified, but defaults to the previous\nvalue if not set.</li>\n<li><strong>base_url</strong> (<em>str</em>) \u2013 Base URL of user account. This parameter is\noptional if <cite>username</cite> is specified and on CARTO\u2019s\ncloud-based account. Generally of the form\n<code class=\"docutils literal notranslate\"><span class=\"pre\">https://your_user_name.carto.com/</span></code> for cloud-based accounts.\nIf on-prem or otherwise, contact your admin.</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Example</p>\n<div class=\"code highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">cartoframes</span> <span class=\"k\">import</span> <span class=\"n\">Credentials</span>\n<span class=\"c1\"># load credentials saved in previous session</span>\n<span class=\"n\">creds</span> <span class=\"o\">=</span> <span class=\"n\">Credentials</span><span class=\"p\">()</span>\n<span class=\"c1\"># set new API key</span>\n<span class=\"n\">creds</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"o\">=</span><span class=\"s1\">&#39;new_api_key&#39;</span><span class=\"p\">)</span>\n<span class=\"c1\"># save new creds to default user config directory</span>\n<span class=\"n\">creds</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">If the <cite>username</cite> is specified but the <cite>base_url</cite> is not, the\n<cite>base_url</cite> will be updated to <code class=\"docutils literal notranslate\"><span class=\"pre\">https://&lt;username&gt;.carto.com/</span></code>.</p>\n</div>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"cartoframes.credentials.Credentials.username\">\n<code class=\"descname\">username</code><span class=\"sig-paren\">(</span><em>username=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.credentials.Credentials.username\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return or set <cite>username</cite>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><strong>username</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 If set, updates the <cite>username</cite>. Otherwise\nreturns current <cite>username</cite>.</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">This does not update the <cite>base_url</cite> attribute. Use\n<cite>Credentials.set</cite> to have that updated with <cite>username</cite>.</p>\n</div>\n<p class=\"rubric\">Example</p>\n<div class=\"code highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">cartoframes</span> <span class=\"k\">import</span> <span class=\"n\">Credentials</span>\n<span class=\"go\"># load credentials saved in previous session</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">creds</span> <span class=\"o\">=</span> <span class=\"n\">Credentials</span><span class=\"p\">()</span>\n<span class=\"go\"># returns current username</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">creds</span><span class=\"o\">.</span><span class=\"n\">username</span><span class=\"p\">()</span>\n<span class=\"go\">&#39;eschbacher&#39;</span>\n<span class=\"go\"># updates username with new value</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">creds</span><span class=\"o\">.</span><span class=\"n\">username</span><span class=\"p\">(</span><span class=\"s1\">&#39;new_username&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"]], "sourcename": "cartoframes.credentials.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">cartoframes.credentials module</a></li>\n</ul>\n", "display_toc": false, "page_source_suffix": ".rst", "current_page_name": "cartoframes.credentials", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.10"}